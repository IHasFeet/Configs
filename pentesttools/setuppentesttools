#IHasFeet 2020
#This set of commands will setup 
#	OpenVAS
#		i3
#		xRDP
#		Firefox
#		nmap
#		netdiscover
#		screen
#		nikto
#		w3af
#		burp
#The aim is to take you from an Ubuntu server to a remotely accessible GUI,
#to allow you to run a vulnerability scan, and perform some basic pen tests
#
#xRDP will allow you to use multiple monitors if that is your client configuration.
#
#Execute by running the below command
#sudo wget https://raw.githubusercontent.com/IHasFeet/Configs/master/pentesttools/setuppentesttools -O ~/setuppentesttools && bash setuppentesttools
#
#You can run this file multiple times without causing issues.
#Perhaps run it twice if your OS hasn't been upgraded for a while?
#
#
#
#
#Perform pre-script tasks
sudo wget https://raw.githubusercontent.com/IHasFeet/Configs/master/ScriptHousekeeping/startscript -O ~/startscript && bash startscript
#	This script will first run the OpenVAS installer, and then add to it...
sudo wget https://raw.githubusercontent.com/IHasFeet/Configs/master/setup_OpenVAS/setupopenvas -O ~/setupopenvas && bash setupopenvas
#
#We need to add another repository for the requirements of python-webkit, which is no longer available in the normal distro.  
#Using the method from https://stackoverflow.com/questions/850730/how-can-i-append-text-to-etc-apt-sources-list-from-the-command-line
#and the repo listed in https://stackoverflow.com/questions/59896970/how-to-install-python-webkit-and-python-webkit-dev-in-ubuntu-18-04
#This Q was only asked 6 days before this script was created - it's possible this will be resolved in the future.
sudo sh -c 'echo "deb http://au.archive.ubuntu.com/ubuntu xenial main universe" >> /etc/apt/sources.list'
#Now we need to update for the installation below...
sudo apt-get update
sudo apt-get install nikto git python-pip graphviz python-gtk2 python-webkit python-gtksourceview2 openjdk-8-jre -y
sudo pip install xdot==0.6
#
#w3af installation
sudo git clone https://github.com/andresriancho/w3af.git
cd w3af/
sudo ./w3af_console
sudo /tmp/w3af_dependency_install.sh
cd ~
#
#Burp installation
wget https://portswigger.net/burp/releases/download -O ~/Burpsuite.jar
chmod +x ~/Burpsuite.jar
#
#
#
#Tidy up...
sudo wget https://raw.githubusercontent.com/IHasFeet/Configs/master/ScriptHousekeeping/finishscript -O ~/finishscript && bash finishscript
